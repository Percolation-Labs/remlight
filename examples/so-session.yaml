# FULL SESSION EXAMPLE - Structured Output Agent
# Real database output showing complete conversation flow
#
# User asks for sentiment analysis -> test_structured_output agent returns structured JSON

session_id: "9e1f18cf-e1db-4468-8b93-0c0e8784be86"
user_id: "so-full-session-user"

messages:

  # --- MESSAGE 1: USER ---
  - id: "197e8324-699c-440c-a01b-4f5a9ae6e61c"
    role: "user"
    content: 'Analyze this text for sentiment: I love this product, it's absolutely amazing and works perfectly!'
    metadata: "{\"timestamp\": \"2026-01-20T08:26:06.324781+00:00\", \"message_index\": 0}"
    created_at: "2026-01-20 08:26:06.416009+00:00"

  # --- MESSAGE 2: TOOL ---
  - id: "225c1ee0-fb3f-484b-bfa7-595bc0cca12c"
    role: "tool"
    content: '{"result": {"summary": "User expressing strong positive sentiment about a product they purchased", "sentiment": "positive", "keywords": ["love", "product", "amazing", "works", "perfectly"]}}'
    metadata: "{\"timestamp\": \"2026-01-20T08:26:06.435832+00:00\", \"tool_name\": \"test_structured_output\", \"tool_call_id\": \"test_structured_output_structured_output\", \"message_index\": 0, \"tool_arguments\": {\"input_text\": \"Analyze this text for sentiment: I love this product, it's absolutely amazing and works perfectly!\"}}"
    created_at: "2026-01-20 08:26:06.438172+00:00"

# KEY OBSERVATIONS:
# 1. Message 1 (role: user) - The user's request
# 2. Message 2 (role: tool) - The structured output from test_structured_output agent
#    - content: JSON with {result: {summary, sentiment, keywords}}
#    - metadata.tool_name: "test_structured_output" 
#    - metadata.tool_call_id: "test_structured_output_structured_output"
#    - metadata.tool_arguments: what was sent TO the agent
